<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/styles/style.css" th:href="@{/styles/style.css}" type="text/css">
    <title>Cohorts List</title>
</head>



<!--  Message doesn't show -->
<div>
    <h3 class="mx-auto" th:text="${message}">mess</h3>
</div>

<table class="row p-2 border border-dark my-3 table table-stripe">
    <div class="col-12">
        <thead class="text-center">
        <tr class="row" th:if="${cohorts.empty}">
            <td class="text-center" colspan="2" >No Classes yet.</td>
        </tr>
        <tr class="row">
            <th scope="col" class="col-1 col-md-1">#</th>
            <th scope="col" class="col-5 col-md-3">Name</th>
            <th scope="col" class="col-1 col-md-1">Start date</th>
            <th scope="col" class="col-1 col-md-1">Students List</th>
<!--            <th scope="col" class="d-none d-md-inline col-md-4"-->
<!--                sec:authorize="hasRole('ADMIN')">Functions-->
<!--            </th>-->
        </tr>
        </thead>
        <tbody>
        <tr class="row border-bottom" th:each="cohort: ${cohorts}">
            <td class="col-1 col-md-1">
                <span th:text="${cohort.getId()}"> Id </span>
            </td>
            <td class="col-3 col-md-3">
                <span th:text="${cohort.getName()}"> Name </span>
            </td>
            <td class="col-1 col-md-3">
                <span th:text="${cohort.getStartDate()}"> Start Date </span>
            </td>
            <td class="col-7 col-md-1">
                <span th:text="${cohort.getStudents()}"> Students </span>
            </td>
            <td class="col-12 col-md-4">
                <div class="row mx-3">
                    <a class="col btn btn-primary btn-sm px-auto mx-1">
<!--                       th:href="@{/cohort/updateStudent/{id}(id=${cohort.getId()})}">-->
                    Add Student
                    </a>
                    <a class="col btn btn-primary btn-sm px-auto mx-1"
                       th:href="@{/cohorts/updateCohort/{id}(id=${cohort.getId()})}">
                        Edit
                    </a>
                    <a class="col btn btn-danger btn-sm px-auto mx-1">
<!--                       th:href="@{/cohort/delete/{id}(id=${cohort.getId()})}">-->
                        Delete
                    </a>
                </div>
            </td>
        </tr>
        </tbody>
    </div>
</table>
<body class="container mx-0">
    <div class="my-md-5 mx-0"></div>
        <header class="row mt-5 pt-5">
            <h1 class="col mx-auto py-5 text-center">Students List</h1>
        </header>

    <!--  Add New Student Form  -->
    <div class="row border border-dark">
        <div class="col px-3">
            <!--/*@thymesVar id="cohort" type="com.amigoscode.spring_course.Cohort"*/-->
            <form class="row mx-auto px-auto" action="#" th:action="addCohort"
                         th:method="post" th:object="${cohortForm}">
                <legend class="col-12 text-center">Add New Cohort</legend>
                <div class="col-md-8">
                    <div class="row">
                        <fieldset class="col-12 mx-auto">
                            <label for="name-box" class="my-form-label">Name</label>
                            <input type="text" id="name-box" th:field="*{name}" name="name">
                        </fieldset>
                        <fieldset class="col-12 mx-auto">
                            <label for="date-box" class="my-form-label">Start Date</label>
                            <input type="date" id="date-box" name="date"
                                   th:date="${#temporals.format(localDate, 'yyyy-MM-dd')}"
                                   th:field="*{startDate}">
                        </fieldset>
                    </div>
                    <div class="row">
                        <button class="col-4 btn btn-secondary mx-auto my-3 my-form-button"
                                type="submit">
                            Submit
                        </button>
                        <button class="col-4 btn btn-secondary mx-auto my-3 my-form-button"
                                type="reset" name="reset" th:value="Reset">
                            Reset
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row text-right">
        <a class="offset-9 offset-md-11 col-3 col-md-1 btn btn-secondary"
           th:href="@{/}">
            Home Page
        </a>
    </div>
</body>
</html>